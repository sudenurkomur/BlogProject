@model BlogProject.Models.Blog

<h2>@Model.Title</h2>

@if (!string.IsNullOrEmpty(Model.ImageBase64))
{
    <img src="data:image/jpeg;base64,@Model.ImageBase64" class="img-fluid mb-3" style="max-height:3000px;" />
}
<p><strong>Kategori:</strong> @Model.Category?.Name</p>
<p><strong>Yazar:</strong> @Model.User?.Username</p>
<p><strong>Yayın Tarihi:</strong> @Model.PublishDate.ToShortDateString()</p>

<p>@Model.Content</p>

<hr />

<h4>Yorumlar</h4>
@if (Model.Comments != null && Model.Comments.Any())
{
    <ul>
        @foreach (var comment in Model.Comments)
        {
            <li>
                <p>@comment.Content</p>
                <small>— @comment.User?.Username</small>

                @if (User.Identity.IsAuthenticated &&
               comment.User?.Username == User.Identity.Name)
                {
                    <a asp-controller="Comment" asp-action="Edit" asp-route-id="@comment.Id" class="btn btn-sm btn-warning">Düzenle</a>
                }
            </li>
        }
    </ul>
}
else
{
    <p>Henüz yorum yok.</p>
}